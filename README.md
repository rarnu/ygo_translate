# æ¸¸æˆç‹å¡ç‰Œæ•ˆæœä¸­æ—¥äº’è¯‘ç³»ç»Ÿ

åŸºäºèŒƒå¼å‘é‡æ•°æ®åº“çš„æ™ºèƒ½ç¿»è¯‘ç³»ç»Ÿï¼Œä¸“é—¨ç”¨äºæ¸¸æˆç‹å¡ç‰Œæ•ˆæœçš„ä¸­æ—¥äº’è¯‘ã€‚

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **æ™ºèƒ½èŒƒå¼åŒ¹é…**: 4ä¸‡å¤šä¸ªç¿»è¯‘èŒƒå¼ï¼Œæ”¯æŒå‘é‡ç›¸ä¼¼åº¦æœç´¢
- **å¡åç²¾å‡†ç¿»è¯‘**: åŸºäºçŸ¥è¯†åº“çš„å¡åç¿»è¯‘
- **ç²¾å‡†Kè¯­è¨€**: ç¿»è¯‘çš„è¯­å¥éƒ½æ˜¯æ ‡å‡†Kè¯­è¨€
- **Web API**: å®Œæ•´çš„RESTful APIæ¥å£

## ğŸš€ å¿«é€Ÿå¼€å§‹

### Python ç¯å¢ƒå’Œä¾èµ–

```bash
conda create -n ygo_translate python=3.12
conda activate ygo_translate
pip install -r requirements.txt
```

### Ollama

```bash
ollama pull alibayram/Qwen3-30B-A3B-Instruct-2507:latest
```

### å¯åŠ¨æœåŠ¡

```bash
python main.py
```

#### APIæ¥å£

**æ—¥è¯‘ä¸­**
```bash
curl -X POST http://localhost:8082/api/yugioh/translate/j2z \
  -H "Content-Type: application/json" \
  -d '{"text": "è‡ªåˆ†ã®å¢“åœ°ã®ã€Œã‚¸ãƒ£ãƒ³ã‚¯ã®ç©¶æ¥µç«œã€ã‚«ãƒ¼ãƒ‰ï¼“æšã‚’é™¤å¤–ã—ãŸå ´åˆã®ã¿ç‰¹æ®Šå¬å–šã§ãã‚‹ã€‚"}'
```

**ä¸­è¯‘æ—¥**
```bash
curl -X POST http://localhost:8082/api/yugioh/translate/z2j \
  -H "Content-Type: application/json" \
  -d '{"text": "æŠŠè‡ªå·±å¢“åœ°3å¼ ã€ŒåºŸå“ç©¶æé¾™ã€å¡é™¤å¤–çš„åœºåˆæ‰èƒ½ç‰¹æ®Šå¬å”¤ã€‚"}'
```

### å“åº”æ ¼å¼

```json
{
  "code": 0,
  "message": "success", 
  "data": {
    "translated_text": "æŠŠè‡ªå·±å¢“åœ°3å¼ ã€ŒåºŸå“ç©¶æé¾™ã€å¡é™¤å¤–çš„åœºåˆæ‰èƒ½ç‰¹æ®Šå¬å”¤ã€‚",
    "confidence": 0.7288679943100995,
    "processing_time": 2.535956859588623
  }
}
```

### å¦‚æœä½ éœ€è¦è‡ªå·±ä¿®æ”¹æ•°æ®ç´¢å¼•å’ŒèŒƒå¼æ•°æ®åº“

#### ä¸‹è½½ Omega æ•°æ®åº“å¹¶æå–ä¸­æ—¥æ–‡æœ¬æ•°æ®
```bash
python ./src/cli/build_knowledge_omega.py
```

#### å°†æå–å‡ºæ¥çš„ä¸­æ—¥æ–‡æœ¬æ•°æ®ç¼–å½•æˆç´¢å¼•åº“
```bash
python ./src/cli/translator_cli.py add_data ja ./data/ja/ja_knowledge.txt
python ./src/cli/translator_cli.py add_data zh ./data/zh/zh_knowledge.txt
```

#### æ ¹æ®ç´¢å¼•åº“çš„æ•°æ®ï¼Œç¼–å½•èŒƒå¼åº“
```bash
python ./src/cli/build_split_pattern_dbs.py
```

å¯¹äºä»»ä½•ä¸€ä¸ªæ­¥éª¤ï¼Œéƒ½å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹æ•°æ®ï¼Œç„¶åå†è¿›è¡Œä¸‹ä¸€æ­¥ã€‚

æ³¨æ„ï¼šç›®å‰çš„ç¼–å½•è¿‡ç¨‹ä¸­ï¼Œäº‹å®ä¸Šæ˜¯æœ‰èŒƒå¼ç¼ºå¤±çš„ï¼Œç¼ºå¤±åŸå› æ˜¯ä¸­æ–‡ç¿»è¯‘ä¸æ—¥æ–‡åŸæ–‡æ— æ³•å¯¹åº”ï¼ˆç‰¹åˆ«æ˜¯æ—©æœŸéƒ¨åˆ†å¡ç‰‡çš„æ•ˆæœï¼Œç¿»è¯‘è€…å‘æŒ¥æœ‰ç‚¹è‡ªç”±ï¼‰ï¼Œè¿™éƒ¨åˆ†æ•°æ®éœ€è¦æ‰‹åŠ¨è¡¥å½•ã€‚

---

*ğŸ® ä¸“ä¸ºæ¸¸æˆç‹å¡ç‰Œæ•ˆæœç¿»è¯‘ä¼˜åŒ–çš„æ™ºèƒ½ç³»ç»Ÿ*